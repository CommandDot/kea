webpackJsonp([17],{623:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return u});var c=n(6),i=n.n(c),l=n(242),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p={reactRouter1:n(842),reactRouter2:n(843),reactRouter3:n(844)},u=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"api-scene"},i.a.createElement("h2",null,"Frequently Asked Questions"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("a",{href:"#react-router"},"Using React-Router (V4) routes within kea connected components"))),i.a.createElement("p",null,"Got more questions to add? Think something belongs here? ",i.a.createElement("a",{href:"https://github.com/keajs/kea/issues"},"Raise an issue!")),i.a.createElement("h3",{id:"react-router"},"Using React-Router (V4) routes within kea connected components"),i.a.createElement("p",null,"If your kea component contains routes from react-router, they will not automatically receive changes to the current location that's passed implicitly by React context due to how React optimizes for rendering. This will cause React Router's location-aware components out of sync, as in the following example:"),i.a.createElement(l.default,{className:"javascript"},p.reactRouter1),i.a.createElement("h4",null,"Quick Solution"),i.a.createElement("p",null,"The easiest solution is to wrap the kea component with the withRouter() to remove the blocked states. This is not the most efficient solution."),i.a.createElement(l.default,{className:"javascript"},p.reactRouter2),i.a.createElement("h4",null,"Recommended Solution"),i.a.createElement("p",null,"The more efficient method is to pass the location explicitly as a prop to the kea component. Here's one approach:"),i.a.createElement(l.default,{className:"javascript"},p.reactRouter3),i.a.createElement("p",null,"The detailed description for how to do this can be found at ",i.a.createElement("a",{href:"https://github.com/ReactTraining/react-router/blob/master/packages/react-router/docs/guides/blocked-updates.md"},"Dealing with Update Blocking"),"."))}}]),t}(c.Component)},842:function(e,t){e.exports='import React,  { Component } from \'react\'\nimport { kea } from \'kea\'\n\nconst logic = kea({})\n\nclass _Wrapper extends Component {\n  render() {\n    return(\n      <div>{this.props.children}</div>\n    )\n  }\n}\n\nconst Wrapper =  logic(_Wrapper) // switch routes does not work\n//const Wrapper = _Wrapper  // switch routes works\n\nconst App = () => (\n  <ConnectedRouter history={history}>\n    <Wrapper>\n      <ul>\n        <li><Link to="/">Home</Link></li>\n        <li><Link to="/foo">Foo</Link></li>\n        <li><Link to="/bar">Bar</Link></li>        \n      </ul>\n      <Route exact path="/" component={Home} />\n      <Route path="/foo" component={Foo} />\n      <Route path="/bar" component={Bar} />\n    </Wrapper>    \n  </ConnectedRouter>\n)'},843:function(e,t){e.exports="const Wrapper = withRouter(logic(_Wrapper))"},844:function(e,t){e.exports='const routeSelector = (state) => state.router\n\nconst logic = kea({\n  connect: {\n    props: [\n      routeSelector, [\n        \'location\'\n      ]\n    ]\n  },\n  // other kea properties (e.g. actions, reducers, etc)\n})\n\nclass _Wrapper extends Component {\n  render() {\n    return(\n      <div>{this.props.children}</div>\n    )\n  }\n}\n\nconst Wrapper = logic(_Wrapper) // this will now work\n\nconst App = () => (\n  <ConnectedRouter history={history}>\n    <Wrapper>\n      <ul>\n        <li><Link to="/">Home</Link></li>\n        <li><Link to="/foo">Foo</Link></li>\n        <li><Link to="/bar">Bar</Link></li>\n      </ul>\n      <Route exact path="/" component={Home} />\n      <Route path="/foo" component={Foo} />\n      <Route path="/bar" component={Bar} />\n    </Wrapper>\n  </ConnectedRouter>\n)\n'}});