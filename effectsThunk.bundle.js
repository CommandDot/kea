webpackJsonp([15],{603:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return m});var c=n(6),l=n.n(c),s=n(243),u=n(155),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d={install:n(843),import:n(844),store:n(845),usage:n(846)},m=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"description"},l.a.createElement("h2",null,"Thunks"),l.a.createElement("p",null,"Thunks are the simplest ways to define side effects with Redux.")),l.a.createElement("div",{className:"description"},l.a.createElement("h2",null,"Installation"),l.a.createElement("p",null,"First install the ",l.a.createElement("code",null,"kea-thunk")," and ",l.a.createElement("code",null,"redux-thunk")," packages:"),l.a.createElement(s.default,{className:"bash"},d.install),l.a.createElement("p",null,"Then import ",l.a.createElement("code",null,"kea-thunk")," somewhere in your app's entrypoint or ",l.a.createElement("code",null,"store.js"),", before any calls to ",l.a.createElement("code",null,"kea()")," and ",l.a.createElement("code",null,"getStore()")," are made:"),l.a.createElement(s.default,{className:"javascript"},d.import),l.a.createElement("p",null,"If you have configured your store through ",l.a.createElement(u.a,{to:"/api/store"},l.a.createElement("code",null,"getStore()")),", you're all set!"),l.a.createElement("p",null,"If, however, you wish to configure your store manually, connect the thunk middleware like so:"),l.a.createElement(s.default,{className:"javascript"},d.store)),l.a.createElement("div",{className:"description"},l.a.createElement("h2",null,"Usage"),l.a.createElement("p",null,"You define thunks in a block called ",l.a.createElement("code",null,"thunks"),". Here are some examples:"),l.a.createElement(s.default,{className:"javascript"},d.usage),l.a.createElement("p",null,"As you can see, you have access to the standard Redux ",l.a.createElement("code",null,"dispatch")," and ",l.a.createElement("code",null,"getState")," methods. However you don't need to call ",l.a.createElement("code",null,"dispatch")," before any action in the actions object. They are wrapped automatically.")))}}]),t}(c.Component)},843:function(e,t){e.exports="yarn add kea-thunk redux-thunk\nnpm install --save kea-thunk redux-thunk\n"},844:function(e,t){e.exports="import 'kea-thunk'\n"},845:function(e,t){e.exports="import { keaReducer } from 'kea'\nimport { createStore, combineReducers, applyMiddleware, compose } from 'redux'\n\nimport thunk from 'redux-thunk'\n\nexport default function getStore () {\n  const reducers = combineReducers({\n    kea: keaReducer('kea'),\n    scenes: keaReducer('scenes')\n  })\n\n  const finalCreateStore = compose(\n    applyMiddleware(thunk)\n  )(createStore)\n\n  const store = finalCreateStore(reducers)\n\n  return { store }\n}\n"},846:function(e,t){e.exports="const delay = (ms) => new Promise(resolve => window.setTimeout(resolve, ms))\n\nconst logic = kea({\n  actions: ({ constants }) => ({\n    updateName: name => ({ name })\n  }),\n\n  thunks: ({ actions, dispatch, getState }) => ({\n    updateNameAsync: async name => {\n      await delay(1000)            // standard promise\n      await actions.anotherThunk() // another thunk action\n      actions.updateName(name)     // not a thunk, so no async needed\n      dispatch({ type: 'RANDOM_REDUX_ACTION' }) // random redux action\n    },\n    anotherThunk: async () => {\n      // do something\n    }\n  }),\n\n  reducers: ({ actions, constants }) => ({\n    name: ['chirpy', PropTypes.string, {\n      [actions.updateName]: (state, payload) => payload.name\n    }]\n  })\n})\n"}});